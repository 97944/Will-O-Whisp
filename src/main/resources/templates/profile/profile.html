<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="css/bootstrap.min.css" rel="stylesheet"></link>
<link href="css/profile.css" rel="stylesheet"></link>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript">
	function ChangeTab(tabname) {
		// ÂÖ®ÈÉ®Ê∂à„Åô
		document.getElementById('tab1').style.display = 'none';
		document.getElementById('tab2').style.display = 'none';
		document.getElementById('tab3').style.display = 'none';
		document.getElementById('tab4').style.display = 'none';
		document.getElementById('tab5').style.display = 'none';
		// ÊåáÂÆöÁÆáÊâÄ„ÅÆ„ÅøË°®Á§∫
		document.getElementById(tabname).style.display = 'block';
	}
</script>
<meta charset="UTF-8" />

<title th:text="${user.userName}+'(@'+${user.userId} +')„Åï„Çì'"></title>
</head>
<body bgcolor="#cccccc">
	<div th:replace="common/header :: header"></div>
	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<form action="profile/profile" method="POST" name="profile">
					<section class="user_card" th:each="user:${user}"
						style="float: center">
						<div class="user_card-name">
							<a th:text="${user.userName}"></a>
						</div>
						<div class="user_card-id">
							<a href="#" onClick="document.profile.submit();"><span th:text="${user.userId}"></span></a>
							<input type="hidden" name="user_id" th:value="${user.userId}" />
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						</div>
						<div class="user_card-profile">
							<a th:text="${user.profile}"></a>
						</div>
					</section>
				</form>
			</div>
			<div th:switch="${check}">
			<div class="col-md-6" th:case="true">
				<h4 th:text="'„Éñ„É≠„ÉÉ„ÇØ„Åï„Çå„Å¶„ÅÑ„ÇãÁÇ∫„ÄÅ@'+${user.userId}+'„Åï„Çì„ÅÆ„Éï„Ç©„É≠„Éº„ÇÑ„ÄÅ@'+${user.userId}+'„Åï„Çì„ÅÆ„ÉÑ„Ç§„Éº„Éà„ÅÆË°®Á§∫„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ'"></h4>
			</div>
			<div class="col-md-6" th:case="false">
				<div class="tabbox" style="float: center">
					<p class="tabs">
						<a href="#tab1" class="tab1"
							onclick="ChangeTab('tab1'); return false;">„ÉÑ„Ç§„Éº„Éà<br></br> <span
							th:text="${count_tweet}"></span></a> <a href="#tab2" class="tab2"
							onclick="ChangeTab('tab2'); return false;">„Éï„Ç©„É≠„Éº<br></br> <span
							th:text="${count_follow}"></span></a> <a href="#tab3" class="tab3"
							onclick="ChangeTab('tab3'); return false;">„Éï„Ç©„É≠„ÉØ„Éº<br></br> <span
							th:text="${count_follower}"></span></a> <a href="#tab4" class="tab4"
							onclick="ChangeTab('tab4'); return false;">„ÅÑ„ÅÑ„Å≠<br></br> <span
							th:text="${count_favorite}"></span></a> <a href="#tab5" class="tab5"
							onclick="ChangeTab('tab5'); return false;">„É°„Éá„Ç£„Ç¢</a>
					</p>
					<div id="tab1" class="tab">
						<section class="card" th:each="tweet:${tweet}">
							<div th:if="${tweet.retweetId}">
								<div class="card-title">
									<form action="timeLine/profile" method="POST" name="retweet_user">
										<div th:if="${tweet.retweetId}">										
											<a href="#" onClick="document.retweet_user.submit();"><span th:text="${tweet.user.userName}+'„Åï„Çì„Åå„É™„ÉÑ„Ç§„Éº„Éà„Åó„Åæ„Åó„Åü'"></span></a>
											<input type="hidden" name="timeLine_user_id" th:value="${tweet.user.userId}" />
											<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
										</div>
									</form>
									<form action="timeLine/profile" method="POST">
										<span th:text="${tweet.retweet.user.userName}"></span>
										<input type="submit" name="timeLine_user_id" th:value="${tweet.retweet.user.userId}" />
										<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									</form>
								</div>
							<div class="card-content">
								<a th:text="${tweet.retweet.detail}">detail</a>
								<input type="hidden" name="button_id" th:value="${tweet.retweetId}" />
							</div>
							<div class="card-button" style="display: inline-flex">
								<button type="submit" data-toggle="modal" data-target="#modal">‚áí</button>
								<!-- „É™„Éó„É©„Ç§ -->
								<div class="modal" id="modal" tabindex="-1">
							<div class="modal-dialog">
								<!-- 3.„É¢„Éº„ÉÄ„É´„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
								<div class="modal-content">
									<!-- 4.„É¢„Éº„ÉÄ„É´„ÅÆ„Éò„ÉÉ„ÉÄ -->
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">
											<span aria-hidden="true">&times;</span>
										</button>
										<h4 class="modal-title" id="modal-label">
											<!-- <label for="recipient-name" class="control-label" id="recipient-name"></label>-->
											<span th:text="'@'+${tweet.retweet.user.userId}+'„Åï„Çì„Å∏„ÅÆËøî‰ø°'"></span>
										</h4>
									</div>
									<!-- 5.„É¢„Éº„ÉÄ„É´„ÅÆ„Éú„Éá„Ç£ -->
									<div class="modal-body">
										<textarea rows="3" class="form-control" id="recipient-name"
											name="tweet" th:text="'@'+${tweet.retweet.user.userId}"></textarea>
									</div>
									<!-- 6.„É¢„Éº„ÉÄ„É´„ÅÆ„Éï„ÉÉ„Çø -->
									<div class="modal-footer">
										<button type="submit" class="btn btn-primary">„ÉÑ„Ç§„Éº„Éà</button>
										<input type="hidden" th:name="${_csrf.parameterName}"
											th:value="${_csrf.token}" />
									</div>
								</div>
							</div>
						</div>
								<!-- „É™„ÉÑ„Ç§„Éº„Éà -->
								<div th:switch="${tweet.userId}">
							<form action="timeLine/remove" method="POST">
								<a><input type="submit" name="remove" value="√ó" th:case="${login_user.userId}"/></a>
								<input type="hidden" name="remove_id" th:value="${tweet.tweetId}" />
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							</form>
							<form action="timeLine/retweet" method="POST">
								<a><input type="submit" name="retweet" value="‚áî" th:case="*"/></a>
								<input type="hidden" name="retweet_id" th:value="${tweet.retweetId}" />
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							</form>
						</div>
								<!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä -->
								<form action="timeLine/favorite" method="POST">
							<a><input type="submit" name="favorite" value="‚òÜ" /></a> <input
								type="hidden" name="favorite_tweet_id"
								th:value="${tweet.retweetId}" /> <input type="hidden"
								th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						</form>
								<!-- „Éñ„É≠„ÉÉ„ÇØ -->
								<form action="timeLine/block" method="POST">
									<a><input type="submit" name="block" value="üö´" /></a>
									<input type="hidden" name="block_user_id" th:value="${tweet.retweet.user.userId}" />
								</form>
							</div>
							</div>
							<div th:unless="${tweet.retweetId}">
								<div class="card-title">
									<form action="timeLine/profile" method="POST">
										<span th:text="${tweet.user.userName}"></span>
										<input type="submit" name="timeLine_user_id" th:value="${tweet.user.userId}" />
										<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									</form>
								</div>
								<div class="card-content">
									<a th:text="${tweet.detail}">detail</a>
									<input type="hidden" name="button_id" th:value="${tweet.tweetId}" />
								</div>
								<div class="card-button" style="display: inline-flex">
									<button type="submit" data-toggle="modal" data-target="#modal">‚áí</button>
									<!-- „É™„Éó„É©„Ç§-->
									<div class="modal" id="modal" tabindex="-1">
							<div class="modal-dialog">
								<!-- 3.„É¢„Éº„ÉÄ„É´„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
								<div class="modal-content">
									<!-- 4.„É¢„Éº„ÉÄ„É´„ÅÆ„Éò„ÉÉ„ÉÄ -->
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">
											<span aria-hidden="true">&times;</span>
										</button>
										<h4 class="modal-title" id="modal-label">
											<!-- <label for="recipient-name" class="control-label" id="recipient-name"></label>-->
											<span th:text="'@'+${tweet.userId}+'„Åï„Çì„Å∏„ÅÆËøî‰ø°'"></span>
										</h4>
									</div>
									<!-- 5.„É¢„Éº„ÉÄ„É´„ÅÆ„Éú„Éá„Ç£ -->
									<div class="modal-body">
										<textarea rows="3" class="form-control" id="recipient-name"
											name="tweet" th:text="'@'+${tweet.userId}"></textarea>
									</div>
									<!-- 6.„É¢„Éº„ÉÄ„É´„ÅÆ„Éï„ÉÉ„Çø -->
									<div class="modal-footer">
										<button type="submit" class="btn btn-primary">„ÉÑ„Ç§„Éº„Éà</button>
										<input type="hidden" th:name="${_csrf.parameterName}"
											th:value="${_csrf.token}" />
									</div>
								</div>
							</div>
						</div>
									<!-- „É™„ÉÑ„Ç§„Éº„Éà -->
									<form action="timeLine/retweet" method="POST">
							<a><input type="submit" name="retweet" value="‚áî" /></a> <input
								type="hidden" name="retweet_id" th:value="${tweet.tweetId}" />
						</form>
									<!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä -->
									<form action="timeLine/favorite" method="POST">
							<a><input type="submit" name="favorite" value="‚òÜ" /></a> <input
								type="hidden" name="favorite_tweet_id"
								th:value="${tweet.tweetId}" /> <input type="hidden"
								th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						</form>
									<!-- „Éñ„É≠„ÉÉ„ÇØ -->
									<div th:switch="${tweet.userId}">
							<form action="timeLine/remove" method="POST">
								<a><input type="submit" name="remove" value="√ó" th:case="${login_user.userId}"/></a>
								<input type="hidden" name="remove_id" th:value="${tweet.tweetId}"/>
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							</form>
							<form action="timeLine/block" method="POST">
								<a><input type="submit" name="block" value="üö´" th:case="*"/></a> 
								<input type="hidden" name="block_user_id" th:value="${tweet.userId}" />
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							</form>
						</div>
								</div>
							</div>
						</section>
					</div>
					<div id="tab2" class="tab">
						<section class="profile_card" th:each="follow:${follow}"
								style="float: center">
							<div class="profile_card-name">
								<a th:text="${follow.userName}"></a>
							</div>
							<div class="user_card-id">
								<form action="profile/follow" method="POST">
									<input type="submit" name="follow_user_id" th:value="${follow.userId}" />
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
								</form>
							</div>
							<div class="profile_card-profile">
								<a th:text="${follow.profile}"></a>
							</div>
						</section>
					</div>
					<div id="tab3" class="tab">
						<section class="profile_card" th:each="follower:${follower}"
								style="float: center">
							<div class="profile_card-name">
								<a th:text="${follower.userName}"></a>
							</div>
							<div class="user_card-id">
								<form action="profile/follower" method="POST">
									<input type="submit" name="follower_user_id" th:value="${follower.userId}" />
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
								</form>
							</div>
							<div class="profile_card-profile">
								<a th:text="${follower.profile}"></a>
							</div>
						</section>
					</div>
					<div id="tab4" class="tab">
						<section class="card" th:each="favorite:${favorite}">
							<div class="card-title">
								<form action="timeLine/profile" method="POST">
									<span th:text="${favorite.user.userName}"></span>
									<input type="submit" name="timeLine_user_id" th:value="${favorite.user.userId}" />
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
								</form>
							</div>
							<div class="card-content">
								<a th:text="${favorite.detail}">detail</a>
								<input type="hidden" name="button_id" th:value="${favorite.tweetId}" />
							</div>
							<div class="card-button" style="display: inline-flex">
							<button type="submit" data-toggle="modal" data-target="#modal">‚áí</button>

						<!-- 2.„É¢„Éº„ÉÄ„É´„ÅÆÈÖçÁΩÆ -->
						<div class="modal" id="modal" tabindex="-1">
							<div class="modal-dialog">
								<!-- 3.„É¢„Éº„ÉÄ„É´„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
								<div class="modal-content">
									<!-- 4.„É¢„Éº„ÉÄ„É´„ÅÆ„Éò„ÉÉ„ÉÄ -->
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">
											<span aria-hidden="true">&times;</span>
										</button>
										<h4 class="modal-title" id="modal-label">
											<!-- <label for="recipient-name" class="control-label" id="recipient-name"></label>-->
											<span th:text="'@'+${favorite.userId}+'„Åï„Çì„Å∏„ÅÆËøî‰ø°'"></span>
										</h4>
									</div>
									<!-- 5.„É¢„Éº„ÉÄ„É´„ÅÆ„Éú„Éá„Ç£ -->
									<div class="modal-body">
										<textarea rows="3" class="form-control" id="recipient-name"
											name="tweet" th:text="'@'+${favorite.userId}"></textarea>
									</div>
									<!-- 6.„É¢„Éº„ÉÄ„É´„ÅÆ„Éï„ÉÉ„Çø -->
									<div class="modal-footer">
										<button type="submit" class="btn btn-primary">„ÉÑ„Ç§„Éº„Éà</button>
										<input type="hidden" th:name="${_csrf.parameterName}"
											th:value="${_csrf.token}" />
									</div>
								</div>
							</div>
						</div>
						<form action="timeLine/retweet" method="POST">
							<a><input type="submit" name="retweet" value="‚áî" /></a> <input
								type="hidden" name="retweet_id" th:value="${favorite.tweetId}" />
								<input type="hidden"
								th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						</form>
						<form action="timeLine/favorite" method="POST">
							<a><input type="submit" name="favorite" value="‚òÜ" /></a> <input
								type="hidden" name="favorite_tweet_id"
								th:value="${favorite.tweetId}" /> <input type="hidden"
								th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						</form>
						<div th:switch="${favorite.userId}">
							<form action="timeLine/remove" method="POST">
								<a><input type="submit" name="remove" value="√ó" th:case="${login_user.userId}"/></a>
								<input type="hidden" name="remove_id" th:value="${favorite.tweetId}"/>
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							</form>
							<form action="timeLine/block" method="POST">
								<a><input type="submit" name="block" value="üö´" th:case="*"/></a> 
								<input type="hidden" name="block_user_id" th:value="${favorite.userId}" />
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							</form>
						</div>
						</div>
						</section>
					</div>
					<div id="tab5" class="tab">
						<p>(„Çø„Éñ5„ÅÆ‰∏≠Ë∫´„ÄÇ„ÅÑ„Åè„Å§„Åß„ÇÇÂ¢ó„ÇÑ„Åõ„Åæ„Åô„ÄÇ)</p>
					</div>
				</div>
			</div>
			<div th:switch="${check2}">
				<div class="col-md-3" th:case="false">
					<div th:switch="${switch}">
						<form action="profile/login" method="POST">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							<button class="btn btn-default" th:case="„É≠„Ç∞„Ç§„É≥" >Á∑®ÈõÜ</button>
						</form>
						<form action="profile/reset" method="POST">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							<input type="hidden" name="reset_user_id" th:value="${user.userId}" />
							<button class="btn btn-danger" th:case="„Éï„Ç©„É≠„ÉºÊ∏à„Åø">„Éï„Ç©„É≠„ÉºËß£Èô§</button>
						</form>
						<form action="profile/following" method="POST">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							<input type="hidden" name="following_user_id" th:value="${user.userId}" />
							<button class="btn btn-primary" th:case="Êú™„Éï„Ç©„É≠„Éº">„Éï„Ç©„É≠„Éº„Åô„Çã</button>
						</form>
					</div>
				</div>
				<div class="col-md-3" th:case="true">
					<form action="profile/unblock" method="POST">
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						<input type="hidden" name="unblock_user_id" th:value="${user.userId}"/>
						<button type="submit" class="btn btn-danger">„Éñ„É≠„ÉÉ„ÇØËß£Èô§</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

	<script type="text/javascript">
		// „Éá„Éï„Ç©„É´„Éà„ÅÆ„Çø„Éñ„ÇíÈÅ∏Êäû
		ChangeTab('tab1');
	</script>
</body>
</html>